{"version":3,"sources":["html.sortable.min.js"],"names":["root","factory","define","amd","exports","module","sortable","this","dragging","draggingHeight","placeholders","_data","element","key","value","undefined","h5s","data","_matches","el","selector","matches","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","call","_filter","nodes","wanted","Array","prototype","slice","result","i","length","push","indexOf","_on","event","callback","addEventListener","events","_off","removeEventListener","_attr","attribute","setAttribute","_removeAttr","removeAttribute","_offset","rect","getClientRects","left","window","scrollX","top","scrollY","_removeItemEvents","items","_removeSortableEvents","_getGhost","draggedItem","ghost","x","parseInt","pageX","y","pageY","dataTransfer","effectAllowed","setData","setDragImage","_listsConnected","curList","destList","acceptFrom","split","filter","sel","_isCopyActive","copy","_getHandles","handle","handles","querySelectorAll","concat","_destroySortable","sortableElement","opts","_getChildren","_enableSortable","document","createElement","dragDrop","disableIEFix","parent","parentElement","_index","children","_attached","parentNode","_after","target","insertBefore","nextElementSibling","_detach","removeChild","_makeEvent","name","detail","e","createEvent","initEvent","_serialize","list","sortableElements","options","method","String","connectWith","placeholder","placeholderClass","draggingClass","hoverClass","debounce","maxItems","option","getChildren","Element","test","serialized","forEach","index","startParent","startList","tagName","html","innerHTML","firstChild","_html2element","classList","add","apply","remove","ditem","stopImmediatePropagation","getAttribute","cloneNode","appendChild","style","display","oldDisplay","getComputedStyle","height","dispatchEvent","item","startparent","newParent","oldindex","elementIndex","oldElementIndex","endparent","newEndList","newStartList","oldStartList","visiblePlaceholder","preventDefault","stopPropagation","fn","delay","context","timer","debouncedDragOverEnter","thisHeight","placeholderIndex","thisIndex","forcePlaceholderSize","deadZone","offsetTop","eContext","args","arguments","clearTimeout","setTimeout","onDragOverEnter","dropEffect","destroy","enable","disable"],"mappings":"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","file":"html.sortable.min.js","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.sortable = factory();\n  }\n}(this, function() {\n/*\n * HTML5 Sortable library\n * https://github.com/lukasoppermann/html5sortable\n *\n * Original code copyright 2012 Ali Farhadi.\n * This version is mantained by Lukas Oppermann <lukas@vea.re>\n * Previously also mantained by Alexandru Badiu <andu@ctrlz.ro>\n * jQuery-independent implementation by Nazar Mokrynskyi <nazar@mokrynskyi.com>\n *\n * Released under the MIT license.\n */\n'use strict'\n/*\n * variables global to the plugin\n */\nvar dragging\nvar draggingHeight\nvar placeholders = []\n/**\n * Get or set data on element\n * @param {Element} element\n * @param {string} key\n * @param {*} value\n * @return {*}\n */\nvar _data = function (element, key, value) {\n  if (value === undefined) {\n    return element && element.h5s && element.h5s.data && element.h5s.data[key]\n  } else {\n    element.h5s = element.h5s || {}\n    element.h5s.data = element.h5s.data || {}\n    element.h5s.data[key] = value\n  }\n}\n/**\n * Remove data from element\n * @param {Element} element\n */\nvar _removeData = function (element) {\n  if (element.h5s) {\n    delete element.h5s.data\n  }\n}\n/**\n * Tests if an element matches a given selector. Comparable to jQuery's $(el).is('.my-class')\n * @param {el} DOM element\n * @param {selector} selector test against the element\n * @returns {boolean}\n */\n/* istanbul ignore next */\nvar _matches = function (el, selector) {\n  return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector)\n}\n/**\n * Filter only wanted nodes\n * @param {Array|NodeList} nodes\n * @param {Array/string} wanted\n * @returns {Array}\n */\nvar _filter = function (nodes, wanted) {\n  if (!wanted) {\n    return Array.prototype.slice.call(nodes)\n  }\n  var result = []\n  for (var i = 0; i < nodes.length; ++i) {\n    if (typeof wanted === 'string' && _matches(nodes[i], wanted)) {\n      result.push(nodes[i])\n    }\n    if (wanted.indexOf(nodes[i]) !== -1) {\n      result.push(nodes[i])\n    }\n  }\n  return result\n}\n/**\n * @param {Array|Element} element\n * @param {Array|string} event\n * @param {Function} callback\n */\nvar _on = function (element, event, callback) {\n  if (element instanceof Array) {\n    for (var i = 0; i < element.length; ++i) {\n      _on(element[i], event, callback)\n    }\n    return\n  }\n  element.addEventListener(event, callback)\n  element.h5s = element.h5s || {}\n  element.h5s.events = element.h5s.events || {}\n  element.h5s.events[event] = callback\n}\n/**\n * @param {Array|Element} element\n * @param {Array|string} event\n */\nvar _off = function (element, event) {\n  if (element instanceof Array) {\n    for (var i = 0; i < element.length; ++i) {\n      _off(element[i], event)\n    }\n    return\n  }\n  if (element.h5s && element.h5s.events && element.h5s.events[event]) {\n    element.removeEventListener(event, element.h5s.events[event])\n    delete element.h5s.events[event]\n  }\n}\n/**\n * @param {Array|Element} element\n * @param {string} attribute\n * @param {*} value\n */\nvar _attr = function (element, attribute, value) {\n  if (element instanceof Array) {\n    for (var i = 0; i < element.length; ++i) {\n      _attr(element[i], attribute, value)\n    }\n    return\n  }\n  element.setAttribute(attribute, value)\n}\n/**\n * @param {Array|Element} element\n * @param {string} attribute\n */\nvar _removeAttr = function (element, attribute) {\n  if (element instanceof Array) {\n    for (var i = 0; i < element.length; ++i) {\n      _removeAttr(element[i], attribute)\n    }\n    return\n  }\n  element.removeAttribute(attribute)\n}\n/**\n * @param {Element} element\n * @returns {{left: *, top: *}}\n */\nvar _offset = function (element) {\n  var rect = element.getClientRects()[0]\n  return {\n    left: rect.left + window.scrollX,\n    top: rect.top + window.scrollY\n  }\n}\n/*\n * remove event handlers from items\n * @param {Array|NodeList} items\n */\nvar _removeItemEvents = function (items) {\n  _off(items, 'dragstart')\n  _off(items, 'dragend')\n  _off(items, 'selectstart')\n  _off(items, 'dragover')\n  _off(items, 'dragenter')\n  _off(items, 'drop')\n}\n/*\n * Remove event handlers from sortable\n * @param {Element} sortable a single sortable\n */\nvar _removeSortableEvents = function (sortable) {\n  _off(sortable, 'dragover')\n  _off(sortable, 'dragenter')\n  _off(sortable, 'drop')\n}\n/*\n * Attach ghost to dataTransfer object\n * @param {Event} original event\n * @param {object} ghost-object with item, x and y coordinates\n */\nvar _attachGhost = function (event, ghost) {\n  // this needs to be set for HTML5 drag & drop to work\n  event.dataTransfer.effectAllowed = 'copyMove'\n  // Firefox requires some arbitrary content in the data in order for\n  // the drag & drop functionality to work\n  event.dataTransfer.setData('text', 'arbitrary-content')\n\n  // check if setDragImage method is available\n  if (event.dataTransfer.setDragImage) {\n    event.dataTransfer.setDragImage(ghost.draggedItem, ghost.x, ghost.y)\n  }\n}\n/**\n * _addGhostPos clones the dragged item and adds it as a Ghost item\n * @param {Event} event - the event fired when dragstart is triggered\n * @param {object} ghost - .draggedItem = Element\n */\nvar _addGhostPos = function (event, ghost) {\n  if (!ghost.x) {\n    ghost.x = parseInt(event.pageX - _offset(ghost.draggedItem).left)\n  }\n  if (!ghost.y) {\n    ghost.y = parseInt(event.pageY - _offset(ghost.draggedItem).top)\n  }\n  return ghost\n}\n/**\n * _makeGhost decides which way to make a ghost and passes it to attachGhost\n * @param {Element} draggedItem - the item that the user drags\n */\nvar _makeGhost = function (draggedItem) {\n  return {\n    draggedItem: draggedItem\n  }\n}\n/**\n * _getGhost constructs ghost and attaches it to dataTransfer\n * @param {Event} event - the original drag event object\n * @param {Element} draggedItem - the item that the user drags\n */\n// TODO: could draggedItem be replaced by event.target in all instances\nvar _getGhost = function (event, draggedItem) {\n  // add ghost item & draggedItem to ghost object\n  var ghost = _makeGhost(draggedItem)\n  // attach ghost position\n  ghost = _addGhostPos(event, ghost)\n  // attach ghost to dataTransfer\n  _attachGhost(event, ghost)\n}\n/**\n * _getDragging returns the current element to drag or\n * a copy of the element.\n * Is Copy Active for sortable\n * @param {Element} draggedItem - the item that the user drags\n * @param {Element} sortable a single sortable\n */\nvar _getDragging = function (draggedItem, sortable) {\n  var ditem = draggedItem\n  if (_isCopyActive(sortable)) {\n    ditem = draggedItem.cloneNode(true)\n    _attr(ditem, 'aria-copied', 'true')\n    draggedItem.parentElement.appendChild(ditem)\n    ditem.style.display = 'none'\n    ditem.oldDisplay = draggedItem.style.display\n  }\n  return ditem\n}\n/*\n * Remove data from sortable\n * @param {Element} sortable a single sortable\n */\nvar _removeSortableData = function (sortable) {\n  _removeData(sortable)\n  _removeAttr(sortable, 'aria-dropeffect')\n}\n/*\n * Remove data from items\n * @param {Array|Element} items\n */\nvar _removeItemData = function (items) {\n  _removeAttr(items, 'aria-grabbed')\n  _removeAttr(items, 'aria-copied')\n  _removeAttr(items, 'draggable')\n  _removeAttr(items, 'role')\n}\n/*\n * Check if two lists are connected\n * @param {Element} curList\n * @param {Element} destList\n */\nvar _listsConnected = function (curList, destList) {\n  var acceptFrom = _data(curList, 'opts').acceptFrom\n  if (acceptFrom !== null) {\n    return acceptFrom !== false && acceptFrom.split(',').filter(function (sel) {\n      return sel.length > 0 && _matches(destList, sel)\n    }).length > 0\n  }\n  if (curList === destList) {\n    return true\n  }\n  if (_data(curList, 'connectWith') !== undefined) {\n    return _data(curList, 'connectWith') === _data(destList, 'connectWith')\n  }\n  return false\n}\n/*\n * Is Copy Active for sortable\n * @param {Element} sortable a single sortable\n */\nvar _isCopyActive = function (sortable) {\n  return _data(sortable, 'opts').copy === true\n}\n/*\n * get handle or return item\n * @param {Array} items\n * @param {selector} handle\n */\nvar _getHandles = function (items, handle) {\n  var result = []\n  var handles\n  if (!handle) {\n    return items\n  }\n  for (var i = 0; i < items.length; ++i) {\n    handles = items[i].querySelectorAll(handle)\n    result = result.concat(Array.prototype.slice.call(handles))\n  }\n  return result\n}\n/*\n * Destroy the sortable\n * @param {Element} sortableElement a single sortable\n */\nvar _destroySortable = function (sortableElement) {\n  var opts = _data(sortableElement, 'opts') || {}\n  var items = _filter(_getChildren(sortableElement), opts.items)\n  var handles = _getHandles(items, opts.handle)\n  // remove event handlers & data from sortable\n  _removeSortableEvents(sortableElement)\n  _removeSortableData(sortableElement)\n  // remove event handlers & data from items\n  _off(handles, 'mousedown')\n  _removeItemEvents(items)\n  _removeItemData(items)\n}\n/*\n * Enable the sortable\n * @param {Element} sortableElement a single sortable\n */\nvar _enableSortable = function (sortableElement) {\n  var opts = _data(sortableElement, 'opts')\n  var items = _filter(_getChildren(sortableElement), opts.items)\n  var handles = _getHandles(items, opts.handle)\n  _attr(sortableElement, 'aria-dropeffect', 'move')\n  _data(sortableElement, '_disabled', 'false')\n  _attr(handles, 'draggable', 'true')\n  // IE FIX for ghost\n  // can be disabled as it has the side effect that other events\n  // (e.g. click) will be ignored\n  var spanEl = (document || window.document).createElement('span')\n  if (typeof spanEl.dragDrop === 'function' && !opts.disableIEFix) {\n    _on(handles, 'mousedown', function () {\n      if (items.indexOf(this) !== -1) {\n        this.dragDrop()\n      } else {\n        var parent = this.parentElement\n        while (items.indexOf(parent) === -1) {\n          parent = parent.parentElement\n        }\n        parent.dragDrop()\n      }\n    })\n  }\n}\n/*\n * Disable the sortable\n * @param {Element} sortableElement a single sortable\n */\nvar _disableSortable = function (sortableElement) {\n  var opts = _data(sortableElement, 'opts')\n  var items = _filter(_getChildren(sortableElement), opts.items)\n  var handles = _getHandles(items, opts.handle)\n  _attr(sortableElement, 'aria-dropeffect', 'none')\n  _data(sortableElement, '_disabled', 'true')\n  _attr(handles, 'draggable', 'false')\n  _off(handles, 'mousedown')\n}\n/*\n * Reload the sortable\n * @param {Element} sortableElement a single sortable\n * @description events need to be removed to not be double bound\n */\nvar _reloadSortable = function (sortableElement) {\n  var opts = _data(sortableElement, 'opts')\n  var items = _filter(_getChildren(sortableElement), opts.items)\n  var handles = _getHandles(items, opts.handle)\n  _data(sortableElement, '_disabled', 'false')\n  // remove event handlers from items\n  _removeItemEvents(items)\n  _off(handles, 'mousedown')\n  // remove event handlers from sortable\n  _removeSortableEvents(sortableElement)\n}\n/**\n * Get position of the element relatively to its sibling elements\n * @param {Element} element\n * @returns {number}\n */\nvar _index = function (element) {\n  if (!element.parentElement) {\n    return 0\n  }\n  return Array.prototype.indexOf.call(element.parentElement.children, element)\n}\n/**\n * Whether element is in DOM\n * @param {Element} element\n * @returns {boolean}\n */\nvar _attached = function (element) {\n  // document.body.contains(element)\n  return !!element.parentNode\n}\n/**\n * Convert HTML string into DOM element.\n * @param {Element|string} html\n * @param {string} tagname\n * @returns {Element}\n */\nvar _html2element = function (html, tagName) {\n  if (typeof html !== 'string') {\n    return html\n  }\n  var parentElement = document.createElement(tagName)\n  parentElement.innerHTML = html\n  return parentElement.firstChild\n}\n/**\n * Insert before target\n * @param {Element} target\n * @param {Element} element\n */\nvar _before = function (target, element) {\n  target.parentElement.insertBefore(\n    element,\n    target\n  )\n}\n/**\n * Insert after target\n * @param {Element} target\n * @param {Element} element\n */\nvar _after = function (target, element) {\n  target.parentElement.insertBefore(\n    element,\n    target.nextElementSibling\n  )\n}\n/**\n * Detach element from DOM\n * @param {Element} element\n */\nvar _detach = function (element) {\n  if (element.parentNode) {\n    element.parentNode.removeChild(element)\n  }\n}\n/**\n * Make native event that can be dispatched afterwards\n * @param {string} name\n * @param {object} detail\n * @returns {CustomEvent}\n */\nvar _makeEvent = function (name, detail) {\n  var e = document.createEvent('Event')\n  if (detail) {\n    e.detail = detail\n  }\n  e.initEvent(name, false, true)\n  return e\n}\n/**\n * Creates and returns a new debounced version of the passed function which will postpone its execution until after wait milliseconds have elapsed\n * @param {fn} Function to debounce\n * @param {delay} time to wait before calling function with latest arguments, 0 - no debounce\n * @param {context} time to wait before calling function with latest arguments, 0 - no debounce\n * @returns {function} - debounced function\n */\nfunction _debounce (fn, delay, context) {\n  var timer = null\n\n  if (delay === 0) {\n    return fn\n  }\n  return function () {\n    var eContext = context || this\n    var args = arguments\n    clearTimeout(timer)\n    timer = setTimeout(function () {\n      fn.apply(eContext, args)\n    }, delay)\n  }\n}\n\nvar _getChildren = function (element) {\n  return element.children\n}\n\nvar _serialize = function (list) {\n  var children = _filter(_getChildren(list), _data(list, 'items'))\n  return children\n}\n\n/*\n * Public sortable object\n * @param {Array|NodeList} sortableElements\n * @param {object|string} options|method\n */\nvar sortable = function (sortableElements, options) {\n  var method = String(options)\n  options = (function (options) {\n    var result = {\n      connectWith: false,\n      acceptFrom: null,\n      copy: false,\n      placeholder: null,\n      disableIEFix: false,\n      placeholderClass: 'sortable-placeholder',\n      draggingClass: 'sortable-dragging',\n      hoverClass: false,\n      debounce: 0,\n      maxItems: 0\n    }\n    for (var option in options) {\n      result[option] = options[option]\n    }\n    return result\n  })(options)\n\n  if (options && typeof options.getChildren === 'function') {\n    _getChildren = options.getChildren\n  }\n\n  if (typeof sortableElements === 'string') {\n    sortableElements = document.querySelectorAll(sortableElements)\n  }\n\n  if (sortableElements instanceof window.Element) {\n    sortableElements = [sortableElements]\n  }\n\n  sortableElements = Array.prototype.slice.call(sortableElements)\n\n  if (/serialize/.test(method)) {\n    var serialized = []\n    sortableElements.forEach(function (sortableElement) {\n      serialized.push({\n        list: sortableElement,\n        children: _serialize(sortableElement)\n      })\n    })\n    return serialized\n  }\n\n  /* TODO: maxstatements should be 25, fix and remove line below */\n  /* jshint maxstatements:false */\n  sortableElements.forEach(function (sortableElement) {\n    if (/enable|disable|destroy/.test(method)) {\n      return sortable[method](sortableElement)\n    }\n\n    // get options & set options on sortable\n    options = _data(sortableElement, 'opts') || options\n    _data(sortableElement, 'opts', options)\n    // reset sortable\n    _reloadSortable(sortableElement)\n    // initialize\n    var items = _filter(_getChildren(sortableElement), options.items)\n    var index\n    var startParent\n    var startList\n    var placeholder = options.placeholder\n    var maxItems\n    if (!placeholder) {\n      placeholder = document.createElement(\n        /^ul|ol$/i.test(sortableElement.tagName) ? 'li' : 'div'\n      )\n    }\n    placeholder = _html2element(placeholder, sortableElement.tagName)\n    placeholder.classList.add.apply(\n      placeholder.classList,\n      options.placeholderClass.split(' ')\n    )\n\n    _data(sortableElement, 'items', options.items)\n    placeholders.push(placeholder)\n    if (options.acceptFrom) {\n      _data(sortableElement, 'acceptFrom', options.acceptFrom)\n    } else if (options.connectWith) {\n      _data(sortableElement, 'connectWith', options.connectWith)\n    }\n\n    _enableSortable(sortableElement)\n    _attr(items, 'role', 'option')\n    _attr(items, 'aria-grabbed', 'false')\n\n    // Mouse over class\n    if (options.hoverClass) {\n      var hoverClass = 'sortable-over'\n      if (typeof options.hoverClass === 'string') {\n        hoverClass = options.hoverClass\n      }\n\n      _on(items, 'mouseenter', function () {\n        this.classList.add(hoverClass)\n      })\n      _on(items, 'mouseleave', function () {\n        this.classList.remove(hoverClass)\n      })\n    }\n\n    // max items\n    if (options.maxItems && typeof options.maxItems === 'number') {\n      maxItems = options.maxItems\n    }\n\n    // Handle drag events on draggable items\n    _on(items, 'dragstart', function (e) {\n      e.stopImmediatePropagation()\n      if ((options.handle && !_matches(e.target, options.handle)) || this.getAttribute('draggable') === 'false') {\n        return\n      }\n\n      // add transparent clone or other ghost to cursor\n      _getGhost(e, this)\n      // cache selsection & add attr for dragging\n      this.classList.add(options.draggingClass)\n      dragging = _getDragging(this, sortableElement)\n\n      _attr(dragging, 'aria-grabbed', 'true')\n      // grab values\n      index = _index(dragging)\n      draggingHeight = parseInt(window.getComputedStyle(dragging).height)\n      startParent = this.parentElement\n      startList = _serialize(startParent)\n      // dispatch sortstart event on each element in group\n      sortableElement.dispatchEvent(_makeEvent('sortstart', {\n        item: dragging,\n        placeholder: placeholder,\n        startparent: startParent\n      }))\n    })\n    // Handle drag events on draggable items\n    _on(items, 'dragend', function () {\n      var newParent\n      if (!dragging) {\n        return\n      }\n      // remove dragging attributes and show item\n      dragging.classList.remove(options.draggingClass)\n      _attr(dragging, 'aria-grabbed', 'false')\n\n      if (dragging.getAttribute('aria-copied') === 'true' && _data(dragging, 'dropped') !== 'true') {\n        _detach(dragging)\n      }\n\n      dragging.style.display = dragging.oldDisplay\n      delete dragging.oldDisplay\n\n      placeholders.forEach(_detach)\n      newParent = this.parentElement\n\n      if (_listsConnected(newParent, startParent)) {\n        sortableElement.dispatchEvent(_makeEvent('sortstop', {\n          item: dragging,\n          startparent: startParent\n        }))\n        if (index !== _index(dragging) || startParent !== newParent) {\n          sortableElement.dispatchEvent(_makeEvent('sortupdate', {\n            item: dragging,\n            index: _filter(_getChildren(newParent), _data(newParent, 'items'))\n              .indexOf(dragging),\n            oldindex: items.indexOf(dragging),\n            elementIndex: _index(dragging),\n            oldElementIndex: index,\n            startparent: startParent,\n            endparent: newParent,\n            newEndList: _serialize(newParent),\n            newStartList: _serialize(startParent),\n            oldStartList: startList\n          }))\n        }\n      }\n      dragging = null\n      draggingHeight = null\n    })\n    // Handle drop event on sortable & placeholder\n    // TODO: REMOVE placeholder?????\n    _on([sortableElement, placeholder], 'drop', function (e) {\n      var visiblePlaceholder\n      if (!_listsConnected(sortableElement, dragging.parentElement)) {\n        return\n      }\n      e.preventDefault()\n      e.stopPropagation()\n\n      _data(dragging, 'dropped', 'true')\n      visiblePlaceholder = placeholders.filter(_attached)[0]\n      _after(visiblePlaceholder, dragging)\n    })\n\n    var debouncedDragOverEnter = _debounce(function (element, pageY) {\n      if (!dragging) {\n        return\n      }\n\n      if (items.indexOf(element) !== -1) {\n        var thisHeight = parseInt(window.getComputedStyle(element).height)\n        var placeholderIndex = _index(placeholder)\n        var thisIndex = _index(element)\n        if (options.forcePlaceholderSize) {\n          placeholder.style.height = draggingHeight + 'px'\n        }\n\n        // Check if `element` is bigger than the draggable. If it is, we have to define a dead zone to prevent flickering\n        if (thisHeight > draggingHeight) {\n          // Dead zone?\n          var deadZone = thisHeight - draggingHeight\n          var offsetTop = _offset(element).top\n          if (placeholderIndex < thisIndex &&\n              pageY < offsetTop + deadZone) {\n            return\n          }\n          if (placeholderIndex > thisIndex &&\n              pageY > offsetTop + thisHeight - deadZone) {\n            return\n          }\n        }\n\n        if (dragging.oldDisplay === undefined) {\n          dragging.oldDisplay = dragging.style.display\n        }\n\n        if (dragging.style.display !== 'none') {\n          dragging.style.display = 'none'\n        }\n\n        if (placeholderIndex < thisIndex) {\n          _after(element, placeholder)\n        } else {\n          _before(element, placeholder)\n        }\n        // Intentionally violated chaining, it is more complex otherwise\n        placeholders\n          .filter(function (element) { return element !== placeholder })\n          .forEach(_detach)\n      } else {\n        if (placeholders.indexOf(element) === -1 &&\n            !_filter(_getChildren(element), options.items).length) {\n          placeholders.forEach(_detach)\n          element.appendChild(placeholder)\n        }\n      }\n    }, options.debounce)\n\n    // Handle dragover and dragenter events on draggable items\n    var onDragOverEnter = function (e) {\n      if (!dragging || !_listsConnected(sortableElement, dragging.parentElement) || _data(sortableElement, '_disabled') === 'true') {\n        return\n      }\n      if (maxItems && _filter(_getChildren(sortableElement), _data(sortableElement, 'items')).length >= maxItems) {\n        return\n      }\n      e.preventDefault()\n      e.stopPropagation()\n      e.dataTransfer.dropEffect = _isCopyActive(sortableElement) ? 'copy' : 'move'\n      debouncedDragOverEnter(this, e.pageY)\n    }\n\n    _on(items.concat(sortableElement), 'dragover', onDragOverEnter)\n    _on(items.concat(sortableElement), 'dragenter', onDragOverEnter)\n  })\n\n  return sortableElements\n}\n\nsortable.destroy = function (sortableElement) {\n  _destroySortable(sortableElement)\n}\n\nsortable.enable = function (sortableElement) {\n  _enableSortable(sortableElement)\n}\n\nsortable.disable = function (sortableElement) {\n  _disableSortable(sortableElement)\n}\n\n\nreturn sortable;\n}));\n"]}